

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Extensions &mdash; Flasker 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="Flasker 0.1 documentation" href="index.html" />
    <link rel="next" title="Utilities" href="util.html" />
    <link rel="prev" title="Overview" href="project.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>Flasker 0.1 documentation</span></a></h1>
        <h2 class="heading"><span>Extensions</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="project.html">Overview</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="util.html">Utilities</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="extensions">
<h1>Extensions<a class="headerlink" href="#extensions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-flasker.ext.orm">
<span id="orm"></span><h2>ORM<a class="headerlink" href="#module-flasker.ext.orm" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="flasker.ext.orm.ORM">
<em class="property">class </em><tt class="descclassname">flasker.ext.orm.</tt><tt class="descname">ORM</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/orm.html#ORM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.orm.ORM" title="Permalink to this definition">¶</a></dt>
<dd><p>The main ORM extension.</p>
<p>Responsible for adding the <tt class="docutils literal"><span class="pre">q</span></tt> and <tt class="docutils literal"><span class="pre">c</span></tt> query proxies on the model and
configuring the project to use a custom <tt class="docutils literal"><span class="pre">Query</span></tt> class.</p>
<p>There is currently a single option available:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">CREATE_ALL</span></tt> to create tables for all models which don&#8217;t already have one
(defaults to <tt class="docutils literal"><span class="pre">True</span></tt>).</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="flasker.ext.orm.Query">
<em class="property">class </em><tt class="descclassname">flasker.ext.orm.</tt><tt class="descname">Query</tt><big>(</big><em>entities</em>, <em>session=None</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/orm.html#Query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.orm.Query" title="Permalink to this definition">¶</a></dt>
<dd><p>Base query class.</p>
<p>The first two methods are from Flask-SQLAlchemy.</p>
<dl class="method">
<dt id="flasker.ext.orm.Query.get_or_404">
<tt class="descname">get_or_404</tt><big>(</big><em>model_id</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/orm.html#Query.get_or_404"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.orm.Query.get_or_404" title="Permalink to this definition">¶</a></dt>
<dd><p>Like get but aborts with 404 if not found.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>model_id</strong> (<em>varies</em>) &#8211; the model&#8217;s primary key</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">model or HTTPError</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="flasker.ext.orm.Query.first_or_404">
<tt class="descname">first_or_404</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/flasker/ext/orm.html#Query.first_or_404"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.orm.Query.first_or_404" title="Permalink to this definition">¶</a></dt>
<dd><p>Like first but aborts with 404 if not found.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>model_id</strong> (<em>varies</em>) &#8211; the model&#8217;s primary key</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">model or HTTPError</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="flasker.ext.orm.Query.random">
<tt class="descname">random</tt><big>(</big><em>n=1</em>, <em>dialect=None</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/orm.html#Query.random"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.orm.Query.random" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns n random model instances.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>n</strong> (<em>int</em>) &#8211; the number of instances to return</li>
<li><strong>dialect</strong> (<em>str</em>) &#8211; the engine dialect (the implementation of random differs
between MySQL and SQLite among others). By default will look up on the
query for the dialect used. If no random function is available for the 
chosen dialect, the fallback implementation uses total row count to 
generate random offsets.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">model instances</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="flasker.ext.orm.Query.dataframe">
<tt class="descname">dataframe</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/orm.html#Query.dataframe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.orm.Query.dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a dataframe with the records from the query and returns it.</p>
<p>Accepts the same arguments as <tt class="docutils literal"><span class="pre">flasker.util.query_to_dataframe</span></tt>.
Requires the <tt class="docutils literal"><span class="pre">pandas</span></tt> library to be installed.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flasker.ext.orm.Base">
<em class="property">class </em><tt class="descclassname">flasker.ext.orm.</tt><tt class="descname">Base</tt><a class="reference internal" href="_modules/flasker/ext/orm.html#Base"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.orm.Base" title="Permalink to this definition">¶</a></dt>
<dd><p>The SQLAlchemy base model with multiple helpers.</p>
<p>Along with the methods described below, the following conveniences are
provided:</p>
<ul class="simple">
<li>the <tt class="docutils literal"><span class="pre">q</span></tt> query property</li>
<li>the <tt class="docutils literal"><span class="pre">c</span></tt> count query property. This will be much faster than issuing
<tt class="docutils literal"><span class="pre">count()</span></tt> on a normal query on MySQL as it will bypass the use of a
subquery.</li>
<li>Automatic table naming (to the model&#8217;s class name uncamelcased with an
extra s appended for good measure).</li>
<li><tt class="docutils literal"><span class="pre">__repr__</span></tt> implementation with model class and primary keys</li>
<li>Caching (from <tt class="docutils literal"><span class="pre">flasker.util.Cacheable</span></tt>)</li>
<li>Logging (from <tt class="docutils literal"><span class="pre">flasker.util.Loggable</span></tt>)</li>
</ul>
<dl class="method">
<dt id="flasker.ext.orm.Base.jsonify">
<tt class="descname">jsonify</tt><big>(</big><em>depth=1</em>, <em>expand=True</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/orm.html#Base.jsonify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.orm.Base.jsonify" title="Permalink to this definition">¶</a></dt>
<dd><p>Special implementation of jsonify for Model objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>depth</strong> (<em>int</em>) &#8211; </li>
<li><strong>expand</strong> (<em>bool</em>) &#8211; whether or not to repeat keys when jsonifying nested
objects (defaults to <tt class="docutils literal"><span class="pre">True</span></tt>). This is useful when the frontend
has model support (e.g. using Backbone-Relational).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
<p>The following attributes are included in the returned JSON:</p>
<ul class="simple">
<li>all non private properties</li>
<li>all non private columns</li>
<li>all non private relationships which have their <tt class="docutils literal"><span class="pre">lazy</span></tt> attribute set to
one of <tt class="docutils literal"><span class="pre">False,</span> <span class="pre">'joined',</span> <span class="pre">'immediate'</span></tt></li>
</ul>
<p>The consequence of this is that this method will never issue extra queries
to populate the JSON. Furthermore, all the attribute names to be
included are computed at class declaration so this method is very fast.</p>
</dd></dl>

<dl class="method">
<dt id="flasker.ext.orm.Base.get_primary_key">
<tt class="descname">get_primary_key</tt><big>(</big><big>)</big><a class="headerlink" href="#flasker.ext.orm.Base.get_primary_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the dictionary of primary keys for a given model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="flasker.ext.orm.Base.retrieve">
<em class="property">classmethod </em><tt class="descname">retrieve</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#flasker.ext.orm.Base.retrieve" title="Permalink to this definition">¶</a></dt>
<dd><p>Given constructor arguments will return a match or create one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> &#8211; constructor arguments</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
<p>This method returns a tuple <tt class="docutils literal"><span class="pre">(model,</span> <span class="pre">flag)</span></tt> where <tt class="docutils literal"><span class="pre">model</span></tt> is of the
corresponding class and <tt class="docutils literal"><span class="pre">flag</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt> if the model was just created
and <tt class="docutils literal"><span class="pre">False</span></tt> otherwise.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-flasker.ext.skl">
<span id="skl"></span><h2>SKL<a class="headerlink" href="#module-flasker.ext.skl" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="flasker.ext.skl.ClassifierParam">
<em class="property">class </em><tt class="descclassname">flasker.ext.skl.</tt><tt class="descname">ClassifierParam</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/skl.html#ClassifierParam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.skl.ClassifierParam" title="Permalink to this definition">¶</a></dt>
<dd><p>The general model for sklearn classifier parameters.</p>
<dl class="method">
<dt id="flasker.ext.skl.ClassifierParam.describe_fits">
<tt class="descname">describe_fits</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/flasker/ext/skl.html#ClassifierParam.describe_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.skl.ClassifierParam.describe_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dataframe with information on each fit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">pandas.DataFrame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="flasker.ext.skl.ClassifierParam.describe_tests">
<tt class="descname">describe_tests</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/flasker/ext/skl.html#ClassifierParam.describe_tests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.skl.ClassifierParam.describe_tests" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dataframe with information on each test run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">pandas.DataFrame</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flasker.ext.skl.LogisticRegressionParam">
<em class="property">class </em><tt class="descclassname">flasker.ext.skl.</tt><tt class="descname">LogisticRegressionParam</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/skl.html#LogisticRegressionParam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.skl.LogisticRegressionParam" title="Permalink to this definition">¶</a></dt>
<dd><p>Model for <tt class="docutils literal"><span class="pre">sklearn.linear_model.logistic.LogisticRegression</span></tt>.</p>
</dd></dl>

<dl class="class">
<dt id="flasker.ext.skl.ClassifierFit">
<em class="property">class </em><tt class="descclassname">flasker.ext.skl.</tt><tt class="descname">ClassifierFit</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/skl.html#ClassifierFit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.skl.ClassifierFit" title="Permalink to this definition">¶</a></dt>
<dd><p>Model to store a fitted classifier.</p>
<dl class="method">
<dt id="flasker.ext.skl.ClassifierFit.describe">
<tt class="descname">describe</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/flasker/ext/skl.html#ClassifierFit.describe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.skl.ClassifierFit.describe" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a series with information on the fitted classifier.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">pandas.Series</td>
</tr>
</tbody>
</table>
<p>The following keys are currently available:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">id</span></tt></li>
<li><tt class="docutils literal"><span class="pre">param_id</span></tt></li>
<li><tt class="docutils literal"><span class="pre">tests</span></tt></li>
<li><tt class="docutils literal"><span class="pre">description</span></tt></li>
<li><tt class="docutils literal"><span class="pre">duration</span></tt></li>
<li><tt class="docutils literal"><span class="pre">added</span></tt></li>
</ul>
</dd></dl>

<dl class="method">
<dt id="flasker.ext.skl.ClassifierFit.describe_tests">
<tt class="descname">describe_tests</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/flasker/ext/skl.html#ClassifierFit.describe_tests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.skl.ClassifierFit.describe_tests" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dataframe with information on each test run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">pandas.DataFrame</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flasker.ext.skl.Classifier">
<em class="property">class </em><tt class="descclassname">flasker.ext.skl.</tt><tt class="descname">Classifier</tt><big>(</big><em>engine</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/skl.html#Classifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.skl.Classifier" title="Permalink to this definition">¶</a></dt>
<dd><p>The classifier method.</p>
<p>A couple properties are of interest:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">engine</span></tt>, the underlying sklearn classifier.</li>
<li><tt class="docutils literal"><span class="pre">current_fit</span></tt>, if the classifier has been trained, this contains the
<tt class="docutils literal"><span class="pre">flasker.ext.skl.ClassifierFit</span></tt> instance used to store the coefficients.</li>
</ul>
<p>Parameters are not duplicated. If a classifier is initialized with the same
values as those of a parameter found in the database, all new fits and tests
will be attributed to the unique same parameter.</p>
<dl class="classmethod">
<dt id="flasker.ext.skl.Classifier.get_available_params">
<em class="property">classmethod </em><tt class="descname">get_available_params</tt><big>(</big><em>engine_factory</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/skl.html#Classifier.get_available_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.skl.Classifier.get_available_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of all available params for this classifier class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>engine_factory</strong> (<em>varies</em>) &#8211; an sklearn compatible classifier class</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="flasker.ext.skl.Classifier.view_available_params">
<em class="property">classmethod </em><tt class="descname">view_available_params</tt><big>(</big><em>engine_factory</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/skl.html#Classifier.view_available_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.skl.Classifier.view_available_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dataframe with information on the parameters available.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>engine_factory</strong> (<em>varies</em>) &#8211; an sklearn compatible classifier class</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">pandas.DataFrame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="flasker.ext.skl.Classifier.from_param_id">
<em class="property">classmethod </em><tt class="descname">from_param_id</tt><big>(</big><em>clf</em>, <em>param_id</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/skl.html#Classifier.from_param_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.skl.Classifier.from_param_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an unfitted classifier from its parameter id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>param_id</strong> (<em>int</em>) &#8211; the id of the parameter to use to load the engine</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">flasker.ext.skl.Classifier</td>
</tr>
</tbody>
</table>
<p>The parameter is persisted in the database and its kwargs are passed to 
the classifier&#8217;s constructor.</p>
</dd></dl>

<dl class="classmethod">
<dt id="flasker.ext.skl.Classifier.get_available_fits">
<em class="property">classmethod </em><tt class="descname">get_available_fits</tt><big>(</big><em>clf</em>, <em>engine_factory</em>, <em>param_id=None</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/skl.html#Classifier.get_available_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.skl.Classifier.get_available_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of available fits for this classifier class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>engine_factory</strong> (<em>varies</em>) &#8211; an sklearn compatible classifier class</li>
<li><strong>param_id</strong> (<em>int</em>) &#8211; if specified, only fits corresponding to this parameter
will be included</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="flasker.ext.skl.Classifier.view_available_fits">
<em class="property">classmethod </em><tt class="descname">view_available_fits</tt><big>(</big><em>engine_factory</em>, <em>param_id=None</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/skl.html#Classifier.view_available_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.skl.Classifier.view_available_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dataframe with information on the fits available.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>engine_factory</strong> (<em>varies</em>) &#8211; an sklearn compatible classifier class</li>
<li><strong>param_id</strong> (<em>int</em>) &#8211; if specified, only fits corresponding to this parameter
will be included</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pandas.DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="flasker.ext.skl.Classifier.from_fit_id">
<em class="property">classmethod </em><tt class="descname">from_fit_id</tt><big>(</big><em>clf</em>, <em>fit_id</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/skl.html#Classifier.from_fit_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.skl.Classifier.from_fit_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an unfitted classifier from a fitted id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>param_id</strong> (<em>int</em>) &#8211; the id of the parameter to use to load the engine</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">flasker.ext.skl.Classifier</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="flasker.ext.skl.Classifier.train">
<tt class="descname">train</tt><big>(</big><em>Xdf</em>, <em>ys</em>, <em>description</em>, <em>test_in_sample=True</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/skl.html#Classifier.train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.skl.Classifier.train" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit then test in sample.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Xdf</strong> (<em>pandas.DataFrame</em>) &#8211; features</li>
<li><strong>ys</strong> (<em>pandas.Series</em>) &#8211; labels</li>
<li><strong>description</strong> (<em>str</em>) &#8211; a description of the training set</li>
<li><strong>test_in_sample</strong> (<em>bool</em>) &#8211; if <tt class="docutils literal"><span class="pre">True</span></tt>, the classifier will be run on its
training sample right after being fit</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This method has to be called before running any tests if the classifier
wasn&#8217;t loaded from an existing fit.</p>
</dd></dl>

<dl class="method">
<dt id="flasker.ext.skl.Classifier.test">
<tt class="descname">test</tt><big>(</big><em>Xdf</em>, <em>ys</em>, <em>description</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/skl.html#Classifier.test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.skl.Classifier.test" title="Permalink to this definition">¶</a></dt>
<dd><p>Test.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Xdf</strong> (<em>pandas.DataFrame</em>) &#8211; </li>
<li><strong>ys</strong> (<em>pandas.Series</em>) &#8211; optional truth</li>
<li><strong>description</strong> (<em>str</em>) &#8211; a description of the testing set</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The results of the test are automatically stored afterwards in a new
<tt class="docutils literal"><span class="pre">flasker.ext.skl.ClassifierTest</span></tt> instance.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-flasker.ext.api">
<span id="api"></span><h2>API<a class="headerlink" href="#module-flasker.ext.api" title="Permalink to this headline">¶</a></h2>
<p>API Extension.</p>
<p>Models can be added in two ways. Either individually:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">api</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">Model</span><span class="p">)</span>
</pre></div>
</div>
<p>or globally:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">api</span><span class="o">.</span><span class="n">add_all_models</span><span class="p">()</span>
</pre></div>
</div>
<p>Both functions accept the same additional options (cf. <tt class="docutils literal"><span class="pre">add_all_models</span></tt>)</p>
<p>It also exposes the <cite>authorize</cite> and <cite>validate</cite> decorators.</p>
<p>Once all the models have been added along with (optionally) the authorize and
validate functions, the API extension should be registered with the project:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">current_project</span><span class="o">.</span><span class="n">register_extension</span><span class="p">(</span><span class="n">extension</span><span class="p">)</span>
</pre></div>
</div>
<p>Next steps:</p>
<p>To configure further the views corresponding to each model, you can access
the <tt class="docutils literal"><span class="pre">__view__</span></tt> attribute and insert your custom API views there.</p>
<dl class="exception">
<dt id="flasker.ext.api.APIError">
<em class="property">exception </em><tt class="descclassname">flasker.ext.api.</tt><tt class="descname">APIError</tt><big>(</big><em>code</em>, <em>content</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/api.html#APIError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.APIError" title="Permalink to this definition">¶</a></dt>
<dd><p>Thrown when an API call is invalid.</p>
<p>The following error codes can occur:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">400</span> <span class="pre">Bad</span> <span class="pre">Request</span></tt> if the request is badly formulated (wrong query
parameters, invalid form data, etc.)</li>
<li><tt class="docutils literal"><span class="pre">403</span> <span class="pre">Forbidden</span></tt> if the request is not authorized by the server</li>
<li><tt class="docutils literal"><span class="pre">404</span> <span class="pre">Not</span> <span class="pre">Found</span></tt> if the request refers to a non-existent resource</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="flasker.ext.api.API">
<em class="property">class </em><tt class="descclassname">flasker.ext.api.</tt><tt class="descname">API</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/api.html#API"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.API" title="Permalink to this definition">¶</a></dt>
<dd><p>Main API extension.</p>
<p>Handles the creation and registration of all API views. The following
configuration options are available:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">URL_PREFIX</span></tt> the blueprint URL prefix (defaults to <tt class="docutils literal"><span class="pre">/api</span></tt>)</li>
<li><tt class="docutils literal"><span class="pre">DEFAULT_DEPTH</span></tt> the default depth models are jsonified to. <tt class="docutils literal"><span class="pre">0</span></tt> yields 
an empty dictionary (defaults to <tt class="docutils literal"><span class="pre">1</span></tt>).</li>
<li><tt class="docutils literal"><span class="pre">DEFAULT_LIMIT</span></tt> the default number of results returned per query 
(defaults to <tt class="docutils literal"><span class="pre">20</span></tt>)</li>
<li><tt class="docutils literal"><span class="pre">MAX_LIMIT</span></tt> the maximum number of results returned by a query. <tt class="docutils literal"><span class="pre">0</span></tt> 
means no limit (defaults to <tt class="docutils literal"><span class="pre">0</span></tt>).</li>
<li><tt class="docutils literal"><span class="pre">EXPAND</span></tt> if <tt class="docutils literal"><span class="pre">True</span></tt>, same model data will be repeated in the response
if the model is encountered multiple times, otherwise only the key will
be returned. This can be very useful for efficiency when used with a 
client-side library such as Backbone-Relational (defaults to <tt class="docutils literal"><span class="pre">True</span></tt>).</li>
</ul>
<p>These can either be passed to the constructor (parameter names are not case
sensitive):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">api</span> <span class="o">=</span> <span class="n">API</span><span class="p">(</span><span class="n">url_prefix</span><span class="o">=</span><span class="s">&#39;/my_api&#39;</span><span class="p">,</span> <span class="n">max_limit</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>Or they can be stored in the main project configuration file and passed on
when registering the extension with the <tt class="docutils literal"><span class="pre">config_section</span></tt> argument:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">current_project</span><span class="o">.</span><span class="n">register_extension</span><span class="p">(</span><span class="n">api</span><span class="p">,</span> <span class="n">config_section</span><span class="o">=</span><span class="s">&#39;API&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="flasker.ext.api.API.authorize">
<tt class="descname">authorize</tt><big>(</big><em>func</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/api.html#API.authorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.API.authorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to set the authorization function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> &#8211; <p>an authorization function. It will be called everytime a new
request comes in and is passed 2 arguments:</p>
<ul class="simple">
<li>the endpoint</li>
<li>the request method</li>
</ul>
<p>If the function returns a truthful value, the request will proceed.
Otherwise a 403 exception is raised.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="flasker.ext.api.API.validate">
<tt class="descname">validate</tt><big>(</big><em>func</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/api.html#API.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.API.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to set the validate function, called on POST, PUT and PATCH.</p>
<p>The validator will be passed two arguments:</p>
<ul class="simple">
<li>the model class</li>
<li>the request json</li>
</ul>
<p>If the function returns a truthful value, the request will proceed.
Otherwise a 400 exception is raised.</p>
</dd></dl>

<dl class="method">
<dt id="flasker.ext.api.API.add_model">
<tt class="descname">add_model</tt><big>(</big><em>Model</em>, <em>relationships=True</em>, <em>methods=True</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/api.html#API.add_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.API.add_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Flag a Model to be added.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Model</strong> &#8211; the <tt class="docutils literal"><span class="pre">Model</span></tt> subclass to be exposed.</li>
<li><strong>relationships</strong> &#8211; <p>whether or not to create subroutes for the model&#8217;s
lazy and dynamic relationships. This parameter can take the following
values:</p>
<ul>
<li><tt class="docutils literal"><span class="pre">True</span></tt> to create routes for all</li>
<li><tt class="docutils literal"><span class="pre">False</span></tt> to create none</li>
<li>a list of relationship keys to create routes for</li>
</ul>
</li>
<li><strong>methods</strong> &#8211; <p>which request methods to allow. Can take the following
values:</p>
<ul>
<li><tt class="docutils literal"><span class="pre">True</span></tt> to allow all</li>
<li>a list of methods to allow</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Calling this function multiple times will override any options previously 
set for the Model.</p>
<p>..note:</p>
<div class="highlight-python"><pre>Only relationships with ``lazy`` set to ``'dynamic'``, ``'select'`` or
``True`` can have subroutes. All eagerly loaded relationships are simply
available directly on the model.</pre>
</div>
</dd></dl>

<dl class="method">
<dt id="flasker.ext.api.API.add_all_models">
<tt class="descname">add_all_models</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/api.html#API.add_all_models"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.API.add_all_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method to add all registered models.</p>
<p>This method accepts same arguments as <tt class="docutils literal"><span class="pre">add_model</span></tt>, which will be passed
to all models.</p>
<p>Remember that calling <tt class="docutils literal"><span class="pre">add_model</span></tt> overwrites previous options, so it
is possible to add all models and individually changing the options for
each by calling the <tt class="docutils literal"><span class="pre">add_model</span></tt> method for a few models afterwards.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flasker.ext.api.APIView">
<em class="property">class </em><tt class="descclassname">flasker.ext.api.</tt><tt class="descname">APIView</tt><a class="reference internal" href="_modules/flasker/ext/api.html#APIView"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.APIView" title="Permalink to this definition">¶</a></dt>
<dd><p>Base API view.</p>
<p>Subclass this to implement your own.</p>
<dl class="method">
<dt id="flasker.ext.api.APIView.get_endpoint">
<tt class="descname">get_endpoint</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/flasker/ext/api.html#APIView.get_endpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.APIView.get_endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the endpoint for use in the blueprint.</p>
<p>These should be unique accross all your API views.</p>
</dd></dl>

<dl class="method">
<dt id="flasker.ext.api.APIView.get_rule">
<tt class="descname">get_rule</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/flasker/ext/api.html#APIView.get_rule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.APIView.get_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the URL route for the view.</p>
<p>Routes should be unique (duh).</p>
</dd></dl>

<dl class="classmethod">
<dt id="flasker.ext.api.APIView.attach_view">
<em class="property">classmethod </em><tt class="descname">attach_view</tt><big>(</big><em>*view_args</em>, <em>**view_kwargs</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/api.html#APIView.attach_view"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.APIView.attach_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and attach a view to the blueprint.</p>
<p>New views should be created with this method otherwise the extension will
be unaware of them.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flasker.ext.api.CollectionView">
<em class="property">class </em><tt class="descclassname">flasker.ext.api.</tt><tt class="descname">CollectionView</tt><big>(</big><em>Model</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/api.html#CollectionView"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.CollectionView" title="Permalink to this definition">¶</a></dt>
<dd><p>Default view for collection endpoints.</p>
</dd></dl>

<dl class="class">
<dt id="flasker.ext.api.ModelView">
<em class="property">class </em><tt class="descclassname">flasker.ext.api.</tt><tt class="descname">ModelView</tt><big>(</big><em>Model</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/api.html#ModelView"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.ModelView" title="Permalink to this definition">¶</a></dt>
<dd><p>Default view for individual model endpoints.</p>
</dd></dl>

<dl class="class">
<dt id="flasker.ext.api.RelationshipView">
<em class="property">class </em><tt class="descclassname">flasker.ext.api.</tt><tt class="descname">RelationshipView</tt><big>(</big><em>rel</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/api.html#RelationshipView"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.RelationshipView" title="Permalink to this definition">¶</a></dt>
<dd><p>Not an actual view, meant to be subclassed.</p>
</dd></dl>

<dl class="class">
<dt id="flasker.ext.api.DynamicRelationshipView">
<em class="property">class </em><tt class="descclassname">flasker.ext.api.</tt><tt class="descname">DynamicRelationshipView</tt><big>(</big><em>rel</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/api.html#DynamicRelationshipView"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.DynamicRelationshipView" title="Permalink to this definition">¶</a></dt>
<dd><p>Default view for dynamic relationships.</p>
</dd></dl>

<dl class="class">
<dt id="flasker.ext.api.LazyRelationshipView">
<em class="property">class </em><tt class="descclassname">flasker.ext.api.</tt><tt class="descname">LazyRelationshipView</tt><big>(</big><em>rel</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/api.html#LazyRelationshipView"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.LazyRelationshipView" title="Permalink to this definition">¶</a></dt>
<dd><p>Default view for lazy relationships.</p>
</dd></dl>

<dl class="class">
<dt id="flasker.ext.api.RelationshipModelView">
<em class="property">class </em><tt class="descclassname">flasker.ext.api.</tt><tt class="descname">RelationshipModelView</tt><big>(</big><em>rel</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/api.html#RelationshipModelView"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.RelationshipModelView" title="Permalink to this definition">¶</a></dt>
<dd><p>Default view for relationship models.</p>
</dd></dl>

<dl class="class">
<dt id="flasker.ext.api.IndexView">
<em class="property">class </em><tt class="descclassname">flasker.ext.api.</tt><tt class="descname">IndexView</tt><a class="reference internal" href="_modules/flasker/ext/api.html#IndexView"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.IndexView" title="Permalink to this definition">¶</a></dt>
<dd><p>API splash page with a few helpful keys.</p>
</dd></dl>

<dl class="class">
<dt id="flasker.ext.api.Parser">
<em class="property">class </em><tt class="descclassname">flasker.ext.api.</tt><tt class="descname">Parser</tt><big>(</big><em>allowed_keys</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/api.html#Parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.api.Parser" title="Permalink to this definition">¶</a></dt>
<dd><p>The request parameter parser.</p>
</dd></dl>

</div>
<div class="section" id="module-flasker.ext.auth">
<span id="authentication"></span><h2>Authentication<a class="headerlink" href="#module-flasker.ext.auth" title="Permalink to this headline">¶</a></h2>
<p>Auth Extension.</p>
<dl class="class">
<dt id="flasker.ext.auth.User">
<em class="property">class </em><tt class="descclassname">flasker.ext.auth.</tt><tt class="descname">User</tt><big>(</big><em>email</em><big>)</big><a class="reference internal" href="_modules/flasker/ext/auth.html#User"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.auth.User" title="Permalink to this definition">¶</a></dt>
<dd><p>Base user class.</p>
<dl class="method">
<dt id="flasker.ext.auth.User.get_id">
<tt class="descname">get_id</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/flasker/ext/auth.html#User.get_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flasker.ext.auth.User.get_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Necessary for Flask login extension.</p>
</dd></dl>

</dd></dl>

</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="project.html">Overview</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="util.html">Utilities</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2013, Matthieu Monsch.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>